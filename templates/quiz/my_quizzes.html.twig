{% extends 'base.html.twig' %}

{% block title %}My Quizzes{% endblock %}

{% block body %}
<style>
    .quiz-list { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .quiz-card { border: 1px solid #ddd; padding: 1em; margin-bottom: 1em; border-radius: 8px; }
    .quiz-card h3 { margin-top: 0; }
    .quiz-meta { color: #666; font-size: 0.9em; }
    .btn { display: inline-block; padding: 0.5em 1em; background: #007bff; color: white; text-decoration: none; border-radius: 4px; margin-right: 0.5em; border: none; cursor: pointer; }
    .btn-secondary { background: #6c757d; }
    .btn-danger { background: #dc3545; }
    .btn-warning { background: #ffc107; color: #212529; }
</style>

<div class="quiz-list">
    <h1>My Quizzes</h1>
    
    <p>
        <a href="{{ path('app_quiz_new') }}" class="btn">Create New Quiz</a>
        <a href="{{ path('app_quiz_index') }}" class="btn btn-secondary">Back to Public Quizzes</a>
    </p>

    {% if quizzes|length > 0 %}
        {% for quiz in quizzes %}
            <div class="quiz-card">
                <h3>{{ quiz.title }}</h3>
                <p>{{ quiz.description }}</p>
                <p class="quiz-meta">
                    Category: {{ quiz.category }} | 
                    Difficulty: {{ quiz.difficulty }} |
                    Questions: {{ quiz.questions|length }} |
                    {% if quiz.isPublic %}Public{% else %}Private{% endif %} |
                    {% if quiz.isActive %}Active{% else %}Inactive{% endif %}
                </p>
                <a href="{{ path('app_quiz_show', {id: quiz.id}) }}" class="btn">View</a>
                <a href="{{ path('app_quiz_edit', {id: quiz.id}) }}" class="btn btn-warning">Edit</a>
                <form method="post" action="{{ path('app_quiz_delete', {id: quiz.id}) }}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this quiz?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ quiz.id) }}">
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        {% endfor %}
    {% else %}
        <p>You haven't created any quizzes yet.</p>
    {% endif %}
</div>
{% endblock %}
